<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<ts:token xmlns:ts="http://tokenscript.org/2024/01/tokenscript"
          xmlns:xml="http://www.w3.org/XML/1998/namespace"
          xsi:schemaLocation="http://tokenscript.org/2024/01/tokenscript https://www.tokenscript.org/schemas/2024-01/tokenscript.xsd"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xmlns:ethereum="urn:ethereum:constantinople"
          name="SnakeGame">

  <ts:label>
    <ts:plurals xml:lang="en">
      <ts:string quantity="one">SnakeGame Token</ts:string>
      <ts:string quantity="other">SnakeGame Tokens</ts:string>
    </ts:plurals>
  </ts:label>

  <ts:contract interface="erc721" name="SnakeGameAccount">
    <ts:address network="84532">0x584649858943ea3e5ea420cb00a44b6ac85acc28</ts:address>
  </ts:contract>

  <ts:origins>
    <ts:ethereum contract="SnakeGameAccount"/>
  </ts:origins>

  <ts:cards>

    <ts:card name="playSnake" type="onboarding">
      <ts:label>
        <ts:string xml:lang="en">Play Snake Game</ts:string>
      </ts:label>
      <ts:attribute name="newScore">
        <ts:type><ts:syntax>1.3.6.1.4.1.1466.115.121.1.27</ts:syntax></ts:type>
        <ts:label>
          <ts:string xml:lang="en">New Score</ts:string>
        </ts:label>
        <ts:origins>
          <ts:user-entry as="uint"/>
        </ts:origins>
      </ts:attribute>
      <ts:transaction>
        <ethereum:transaction function="updateHighScore" contract="SnakeGameAccount">
          <ts:data>
            <ts:uint256 ref="tokenId"/>
            <ts:uint256 ref="newScore"/>
          </ts:data>
        </ethereum:transaction>
      </ts:transaction>
      <ts:view xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
        <ts:include type="html" src="./src/index.html"/>
      </ts:view>
    </ts:card>
  </ts:cards>

  <ts:attribute name="highScore">
    <ts:type><ts:syntax>uint256</ts:syntax></ts:type>
    <ts:label>
      <ts:string xml:lang="en">High Score</ts:string>
    </ts:label>
    <ts:origins>
      <ethereum:call function="highScore" as="uint">
        <ts:data>
          <ts:uint256 ref="tokenId"/>
        </ts:data>
      </ethereum:call>
    </ts:origins>
  </ts:attribute>
</ts:token>
